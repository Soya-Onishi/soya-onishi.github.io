<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Your description">
<meta name="theme-color" content="#0e0b2b">

<link rel="canonical" href="https://soya.github.io/post/extern-crate%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/" />


<meta itemprop="name" content="extern crateについて">
<meta itemprop="description" content="extern crateについてedition 2018以降はほぼ使う必要がないとRustBookあたりに書いてあったと記憶しているが、 その感覚でいるとたまにlinterにextern crateを書けと言われたりする。 どういうときにextern crateが必要になるのかちゃんと理解できてなかったので、いい機会なので調べてみました。
TL;DR 基本的にはRustBookの言うとおり、不要。
例外として、coreやallocクレートのようなCargo.tomlで指定せずtoolchainに紐付いているようなクレートなど、 Cargo.tomlで指定しないクレートに対してはextern crateが必要。
例外の例外として、coreなどと同様にtoolchainに紐づくstdはプレリュードとしてextern crateを記載しなくても使えるようになっている。
もともとはどうだったのか 用法としてはGCCなどでの-lオプションに近く、 edition 2018以前は各クレートごとにextern crateが必要だったらしい。 しかし、大半はCargo.tomlの指定から導き出せるため、extern crateを不要にして余計な記述を廃したという流れとのこと。
edition 2018以降はどうなのか 参考にしているページではボイラープレートなどなどと言っているのでextern crate &lt;クレート名&gt;みたいなのが大量に記述されていたんじゃないかと思いますが、 edition 2018以降はそのような記述が不要になっています。
ただし例外として、Cargo.tomlで記載せずに使うような標準ライブラリレベルのallocやcoreクレートについては extern crateでの指定が必要のようです。 これらはもともと特定のtriple（例：x86_64_unknown-linux-gnuなど）のtoolchainに紐付いているものになります。 toolchainに紐付いているクレートにはstdも含まれるわけですが、 こちらについては自動的に参照できる状態になっているため、わざわざextern crate stdと記述する必要はないです。
参考ページ Forumでの回答
The Rust Referenceでの記載"><meta itemprop="datePublished" content="2023-01-05T22:25:29+09:00" />
<meta itemprop="dateModified" content="2023-01-05T22:25:29+09:00" />
<meta itemprop="wordCount" content="41">
<meta itemprop="keywords" content="" />
<meta property="og:title" content="extern crateについて" />
<meta property="og:description" content="extern crateについてedition 2018以降はほぼ使う必要がないとRustBookあたりに書いてあったと記憶しているが、 その感覚でいるとたまにlinterにextern crateを書けと言われたりする。 どういうときにextern crateが必要になるのかちゃんと理解できてなかったので、いい機会なので調べてみました。
TL;DR 基本的にはRustBookの言うとおり、不要。
例外として、coreやallocクレートのようなCargo.tomlで指定せずtoolchainに紐付いているようなクレートなど、 Cargo.tomlで指定しないクレートに対してはextern crateが必要。
例外の例外として、coreなどと同様にtoolchainに紐づくstdはプレリュードとしてextern crateを記載しなくても使えるようになっている。
もともとはどうだったのか 用法としてはGCCなどでの-lオプションに近く、 edition 2018以前は各クレートごとにextern crateが必要だったらしい。 しかし、大半はCargo.tomlの指定から導き出せるため、extern crateを不要にして余計な記述を廃したという流れとのこと。
edition 2018以降はどうなのか 参考にしているページではボイラープレートなどなどと言っているのでextern crate &lt;クレート名&gt;みたいなのが大量に記述されていたんじゃないかと思いますが、 edition 2018以降はそのような記述が不要になっています。
ただし例外として、Cargo.tomlで記載せずに使うような標準ライブラリレベルのallocやcoreクレートについては extern crateでの指定が必要のようです。 これらはもともと特定のtriple（例：x86_64_unknown-linux-gnuなど）のtoolchainに紐付いているものになります。 toolchainに紐付いているクレートにはstdも含まれるわけですが、 こちらについては自動的に参照できる状態になっているため、わざわざextern crate stdと記述する必要はないです。
参考ページ Forumでの回答
The Rust Referenceでの記載" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://soya.github.io/post/extern-crate%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-01-05T22:25:29+09:00" />
<meta property="article:modified_time" content="2023-01-05T22:25:29+09:00" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="extern crateについて"/>
<meta name="twitter:description" content="extern crateについてedition 2018以降はほぼ使う必要がないとRustBookあたりに書いてあったと記憶しているが、 その感覚でいるとたまにlinterにextern crateを書けと言われたりする。 どういうときにextern crateが必要になるのかちゃんと理解できてなかったので、いい機会なので調べてみました。
TL;DR 基本的にはRustBookの言うとおり、不要。
例外として、coreやallocクレートのようなCargo.tomlで指定せずtoolchainに紐付いているようなクレートなど、 Cargo.tomlで指定しないクレートに対してはextern crateが必要。
例外の例外として、coreなどと同様にtoolchainに紐づくstdはプレリュードとしてextern crateを記載しなくても使えるようになっている。
もともとはどうだったのか 用法としてはGCCなどでの-lオプションに近く、 edition 2018以前は各クレートごとにextern crateが必要だったらしい。 しかし、大半はCargo.tomlの指定から導き出せるため、extern crateを不要にして余計な記述を廃したという流れとのこと。
edition 2018以降はどうなのか 参考にしているページではボイラープレートなどなどと言っているのでextern crate &lt;クレート名&gt;みたいなのが大量に記述されていたんじゃないかと思いますが、 edition 2018以降はそのような記述が不要になっています。
ただし例外として、Cargo.tomlで記載せずに使うような標準ライブラリレベルのallocやcoreクレートについては extern crateでの指定が必要のようです。 これらはもともと特定のtriple（例：x86_64_unknown-linux-gnuなど）のtoolchainに紐付いているものになります。 toolchainに紐付いているクレートにはstdも含まれるわけですが、 こちらについては自動的に参照できる状態になっているため、わざわざextern crate stdと記述する必要はないです。
参考ページ Forumでの回答
The Rust Referenceでの記載"/>



<title>extern crateについて | Indigo Bell</title> 




<link defer rel="stylesheet" href="/font.cc958b841144b5e6348b4723514869a46d121c6cf691e9e0009d86281ad5cc37.css" integrity="">



<link rel="stylesheet" href="https://soya.github.io/css/main.css"><link rel="stylesheet" href="https://soya.github.io/css/normalize.css"><link rel="stylesheet" href="https://soya.github.io/css/bootstrap.css">

</head>

<body>

  <header class="p-3 text-bg-dark site-header sticky-top py-3">
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
        <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none" aria-label="Kembang"> 
          <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16">
  <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5 8 5.961 14.154 3.5 8.186 1.113zM15 4.239l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"/>
</svg>
        </a>

        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
          <li><a href="/" class="nav-link px-4 text-white">Home</a></li>
          <li><a href="/about" class="nav-link px-4 text-white">About</a></li> 
        </ul>
      </div>
    </div>
  </header>
<div id="content">
<div class="container">
  
  <div class="row justify-content-center pt-4">
      <div class="pr-lg-4">
        <div class="title mb-5">
          <h1 class="text-left mb-4 fw-bold">extern crateについて</h1>
          <div class="text-left">  
           <div class="time">Jan. 5, 2023</div> 
          </div>
        </div>
        <article class="page-content">
        <p><code>extern crate</code>についてedition 2018以降はほぼ使う必要がないとRustBookあたりに書いてあったと記憶しているが、
その感覚でいるとたまにlinterに<code>extern crate</code>を書けと言われたりする。
どういうときに<code>extern crate</code>が必要になるのかちゃんと理解できてなかったので、いい機会なので調べてみました。</p>
<h2 id="tldr">TL;DR</h2>
<p>基本的にはRustBookの言うとおり、不要。</p>
<p>例外として、<code>core</code>や<code>alloc</code>クレートのような<code>Cargo.toml</code>で指定せずtoolchainに紐付いているようなクレートなど、
<code>Cargo.toml</code>で指定しないクレートに対しては<code>extern crate</code>が必要。</p>
<p>例外の例外として、<code>core</code>などと同様にtoolchainに紐づく<code>std</code>はプレリュードとして<code>extern crate</code>を記載しなくても使えるようになっている。</p>
<h2 id="もともとはどうだったのか">もともとはどうだったのか</h2>
<p>用法としてはGCCなどでの<code>-l</code>オプションに近く、
edition 2018以前は各クレートごとに<code>extern crate</code>が必要だったらしい。
しかし、大半は<code>Cargo.toml</code>の指定から導き出せるため、<code>extern crate</code>を不要にして余計な記述を廃したという流れとのこと。</p>
<h2 id="edition-2018以降はどうなのか">edition 2018以降はどうなのか</h2>
<p>参考にしているページではボイラープレートなどなどと言っているので<code>extern crate &lt;クレート名&gt;</code>みたいなのが大量に記述されていたんじゃないかと思いますが、
edition 2018以降はそのような記述が不要になっています。</p>
<p>ただし例外として、<code>Cargo.toml</code>で記載せずに使うような標準ライブラリレベルの<code>alloc</code>や<code>core</code>クレートについては
<code>extern crate</code>での指定が必要のようです。
これらはもともと特定のtriple（例：x86_64_unknown-linux-gnuなど）のtoolchainに紐付いているものになります。
toolchainに紐付いているクレートには<code>std</code>も含まれるわけですが、
こちらについては自動的に参照できる状態になっているため、わざわざ<code>extern crate std</code>と記述する必要はないです。</p>
<h2 id="参考ページ">参考ページ</h2>
<p><a href="https://users.rust-lang.org/t/usage-of-extern-crate/73619/8" target="_blank" rel="nofollow noopener noreferrer">Forumでの回答</a><br>
<a href="https://doc.rust-lang.org/reference/items/extern-crates.html" target="_blank" rel="nofollow noopener noreferrer">The Rust Referenceでの記載</a></p>

        </article>
        
      </div>
    </div>
 
  </div>
</div>

</div>
</br>
<div class="foot">
<div class="container ">
  <footer class="py-5">

    <div class="row">
      <div class="col-6 col-md-2 mb-3">
       <strong> <p>Kembang</hp> </strong> 
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">About</a></li>
          <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-muted">Contact</a></li>
        </ul>
      </div>

      <div class="col-6 col-md-2 mb-3">
        <strong> <p>Connect</hp> </strong> 
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a href="https://www.github.com/httpsecure" target="_blank" rel="nofollow noopener noreferrer" class="nav-link p-0 text-muted">Github</a></li>
          <li class="nav-item mb-2"><a href="#" target="_blank" rel="nofollow noopener noreferrer" class="nav-link p-0 text-muted">Mastodon</a></li>
        </ul>
      </div>


      <div class="col-6 col-md-2 mb-3">
        <strong> <p>Thanks</hp> </strong> 
        <ul class="nav flex-column">
          <li class="nav-item mb-2"><a href="https://www.netlify.com" target="_blank" rel="nofollow noopener noreferrer" class="nav-link p-0 text-muted">Netlify</a></li>
          <li class="nav-item mb-2"><a href="https://www.gohugo.io" target="_blank" rel="nofollow noopener noreferrer"class="nav-link p-0 text-muted">Hugo</a></li>
          <li class="nav-item mb-2"><a href="https://www.getbootstrap.com" target="_blank" rel="nofollow noopener noreferrer" class="nav-link p-0 text-muted">Bootstrap</a></li>
        </ul>
      </div>

     
      <div class="container py-6 ">
        <div class="row">
          <div class="col-lg-5 mb-3">
          
            <ul class="list-unstyled p-0 small">
              <li class="mb-4">&copy; 2022 Your Website</li>
            </ul>
          </div>

  </footer>
</div>
</div>
</body>

</html>